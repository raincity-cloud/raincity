// Auto-generated by smithy-gen. Do not edit.
import { z } from "zod/v4";
import { stringListSchema } from "./aws.auth.schema.js";

/**
 * ```xml
 * Configures an Amazon Cognito User Pools auth scheme.
 * ```
 */
export const cognitoUserPoolsSchema = z.object({
  /**
   * ```xml
   * A list of the Amazon Cognito user pool ARNs. Each element is of this
   * format: `arn:aws:cognito-idp:{region}:{account_id}:userpool/{user_pool_id}`.
   * ```
   */
  providerArns: stringListSchema,
});
export type CognitoUserPools = z.infer<typeof cognitoUserPoolsSchema>;

/**
 * ```xml
 * [Signature Version 4](https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html)
 * is the process to add authentication information to AWS requests sent by HTTP. For
 * security, most requests to AWS must be signed with an access key, which consists
 * of an access key ID and secret access key. These two keys are commonly referred to
 * as your security credentials.
 * ```
 */
export const sigv4Schema = z.object({
  /**
   * ```xml
   * The signature version 4 service signing name to use in the credential
   * scope when signing requests. This value SHOULD match the `arnNamespace`
   * property of the `aws.api#service` trait if present and the `name`
   * property of the `aws.api#sigv4a` trait if present.
   * ```
   */
  name: z.string().superRefine((value, refinementContext) => {
    const valueWithLength = value as { length?: number } | null | undefined;
    const currentLength = valueWithLength?.length;
    if (typeof currentLength === "number" && currentLength < 1) {
      refinementContext.addIssue({ code: "too_small", minimum: 1, inclusive: true, origin: "array", path: [] });
    }
  }),
});
export type Sigv4 = z.infer<typeof sigv4Schema>;

/**
 * ```xml
 * Signature Version 4 Asymmetric (SigV4A), an extension of Signature Version 4 (SigV4), is the
 * process to add authentication information to AWS requests sent by HTTP. SigV4A is nearly
 * identical to SigV4, but also uses public-private keys and asymmetric cryptographic signatures
 * for every request. Most notably, SigV4A supports signatures for multi-region API requests.
 * ```
 */
export const sigv4ASchema = z.object({
  /**
   * ```xml
   * The signature version 4a service signing name to use in the credential
   * scope when signing requests. This value SHOULD match the `arnNamespace`
   * property of the `aws.api#service` trait if present and the `name`
   * property of the `aws.api#sigv4` trait.
   * ```
   */
  name: z.string().superRefine((value, refinementContext) => {
    const valueWithLength = value as { length?: number } | null | undefined;
    const currentLength = valueWithLength?.length;
    if (typeof currentLength === "number" && currentLength < 1) {
      refinementContext.addIssue({ code: "too_small", minimum: 1, inclusive: true, origin: "array", path: [] });
    }
  }),
});
export type Sigv4A = z.infer<typeof sigv4ASchema>;

/**
 * ```xml
 * Indicates that the request payload of a signed request is not to be used
 * as part of the signature.
 * ```
 */
export const unsignedPayloadSchema = z.object({});
export type UnsignedPayload = z.infer<typeof unsignedPayloadSchema>;
