# Project Overview

Raincity is a local development tool that simulates AWS cloud services. It allows developers to run S3, SQS, and SNS locally without connecting to real AWS infrastructure.

## Auto-generated Files

The following files and directories are **auto-generated by [rulesync](https://github.com/rulesync/rulesync)** from the source rules in `.rulesync/`. Do not edit them directly — changes will be overwritten the next time rulesync runs.

- `AGENTS.md`
- `CLAUDE.md`
- `.claude/` (except `settings.local.json`)
- `.github/`

To update AI agent instructions, edit the markdown files in `.rulesync/rules/` and then run `pnpm rulesync` to regenerate.

## Repository Structure

This is a **pnpm monorepo** with two workspace roots:

```
apps/
  runner/         # @raincity/runner — orchestrates the service simulators
packages/
  s3/             # @raincity/s3 — local S3 simulator
```

Internal packages reference each other using the pnpm workspace protocol: `"@raincity/s3": "workspace:*"`.

## Tech Stack

- **Language:** TypeScript 5.9+ with strict settings enabled
- **Runtime:** Node.js 24+ (native TypeScript execution via `--experimental-strip-types`)
- **Package manager:** pnpm 10
- **Module format:** ES modules (`"type": "module"`)

## Key Conventions

- **Linting:** Use oxlint for linting (`pnpm lint`) with type-aware and experimental type-check mode enabled.
- **Formatting:** Use Biome (`pnpm format`) for formatting and import organization.
- **Type checking:** Run `pnpm typecheck` to run the typescript compiler.
- **Dependency ranges:** Use `syncpack` to enforce caret ranges (`^`) for `dependencies`, `devDependencies`, and `peerDependencies`.
- **Workspace links:** Keep internal workspace dependencies on `workspace:*` (do not convert these to `^` ranges).
- **Syncpack commands:** Run `pnpm syncpack:lint` to verify ranges and `pnpm syncpack:fix` to auto-fix non-workspace ranges.
- **Strict TypeScript:** The root `tsconfig.json` enables `noUncheckedIndexedAccess`, `exactOptionalPropertyTypes`, `noUnusedLocals`, `noUnusedParameters`, and other strict options. All packages inherit this config.
- **No build step:** Packages export directly from `src/index.ts`. TypeScript is executed directly by Node 24 without compilation.
